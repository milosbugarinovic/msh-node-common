"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const winston_1 = require("winston");
const winston_logstash_ts_1 = require("winston-logstash-ts");
const { combine, timestamp, json } = winston_1.format;
const logstashTransport = {
    create: (options) => {
        options = options || {};
        options.level = options.level || 'info';
        options.protocol = options.protocol || 'udp';
        options.format = options.format || combine(timestamp(), json());
        options.host = options.host || 'localhost';
        options.port = options.port || 9600;
        return new winston_logstash_ts_1.LogstashTransport(options);
    },
};
exports.logstashTransport = logstashTransport;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nc3Rhc2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbG9nZ2VyL3RyYW5zcG9ydC9sb2dzdGFzaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFDQUFnQztBQUVoQyw2REFBdUQ7QUFFdkQsTUFBTSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsZ0JBQU0sQ0FBQTtBQUUzQyxNQUFNLGlCQUFpQixHQUFHO0lBQ3hCLE1BQU0sRUFBRSxDQUFDLE9BQWlDLEVBQUUsRUFBRTtRQUM1QyxPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQTtRQUV2QixPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFBO1FBQ3ZDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUE7UUFDNUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1FBQy9ELE9BQU8sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxXQUFXLENBQUE7UUFDMUMsT0FBTyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQTtRQUVuQyxPQUFPLElBQUksdUNBQWlCLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDdkMsQ0FBQztDQUNGLENBQUE7QUFFUSw4Q0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICd3aW5zdG9uJ1xuaW1wb3J0IHsgTG9nc3Rhc2hUcmFuc3BvcnRPcHRpb25zIH0gZnJvbSAnLi4vLi4vdXRpbC9jdXN0b21UeXBpbmdzJ1xuaW1wb3J0IHsgTG9nc3Rhc2hUcmFuc3BvcnQgfSBmcm9tICd3aW5zdG9uLWxvZ3N0YXNoLXRzJ1xuXG5jb25zdCB7IGNvbWJpbmUsIHRpbWVzdGFtcCwganNvbiB9ID0gZm9ybWF0XG5cbmNvbnN0IGxvZ3N0YXNoVHJhbnNwb3J0ID0ge1xuICBjcmVhdGU6IChvcHRpb25zOiBMb2dzdGFzaFRyYW5zcG9ydE9wdGlvbnMpID0+IHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gICAgb3B0aW9ucy5sZXZlbCA9IG9wdGlvbnMubGV2ZWwgfHwgJ2luZm8nXG4gICAgb3B0aW9ucy5wcm90b2NvbCA9IG9wdGlvbnMucHJvdG9jb2wgfHwgJ3VkcCdcbiAgICBvcHRpb25zLmZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8IGNvbWJpbmUodGltZXN0YW1wKCksIGpzb24oKSlcbiAgICBvcHRpb25zLmhvc3QgPSBvcHRpb25zLmhvc3QgfHwgJ2xvY2FsaG9zdCdcbiAgICBvcHRpb25zLnBvcnQgPSBvcHRpb25zLnBvcnQgfHwgOTYwMFxuXG4gICAgcmV0dXJuIG5ldyBMb2dzdGFzaFRyYW5zcG9ydChvcHRpb25zKVxuICB9LFxufVxuXG5leHBvcnQgeyBsb2dzdGFzaFRyYW5zcG9ydCB9XG4iXX0=