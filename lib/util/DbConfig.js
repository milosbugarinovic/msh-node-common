"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class DbConfig {
    constructor(envHelper) {
        this.host = envHelper.getEnv('DATABASE_HOST');
        this.user = envHelper.getEnv('DATABASE_USER');
        this.pass = envHelper.getEnv('DATABASE_PASS');
        this.port = envHelper.getEnv('DATABASE_PORT');
        this.name = envHelper.getEnv('DATABASE_NAME');
        this.option = envHelper.getEnvJSON('SEQUELIZE_OPTIONS', {}); // {logging: false}
    }
    conn() {
        let cnn = 'postgres://';
        if (this.user && this.pass)
            cnn += `${encodeURIComponent(this.user)}:${encodeURIComponent(this.pass)}@`;
        cnn += this.host;
        if (this.port)
            cnn += `:${this.port}`;
        cnn += `/${this.name}`;
        return cnn;
    }
}
exports.DbConfig = DbConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGJDb25maWcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbC9EYkNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLE1BQWEsUUFBUTtJQUNuQixZQUFZLFNBQW9CO1FBQzlCLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQTtRQUM3QyxJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQTtRQUM3QyxJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFBLENBQUMsbUJBQW1CO0lBQ2pGLENBQUM7SUFTTSxJQUFJO1FBQ1QsSUFBSSxHQUFHLEdBQUcsYUFBYSxDQUFBO1FBQ3ZCLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSTtZQUFFLEdBQUcsSUFBSSxHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQTtRQUN2RyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQTtRQUNoQixJQUFJLElBQUksQ0FBQyxJQUFJO1lBQUUsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ3JDLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUN0QixPQUFPLEdBQUcsQ0FBQTtJQUNaLENBQUM7Q0FDRjtBQXpCRCw0QkF5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnZIZWxwZXIgfSBmcm9tICcuL0VudkhlbHBlcidcblxuZXhwb3J0IGNsYXNzIERiQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoZW52SGVscGVyOiBFbnZIZWxwZXIpIHtcbiAgICB0aGlzLmhvc3QgPSBlbnZIZWxwZXIuZ2V0RW52KCdEQVRBQkFTRV9IT1NUJylcbiAgICB0aGlzLnVzZXIgPSBlbnZIZWxwZXIuZ2V0RW52KCdEQVRBQkFTRV9VU0VSJylcbiAgICB0aGlzLnBhc3MgPSBlbnZIZWxwZXIuZ2V0RW52KCdEQVRBQkFTRV9QQVNTJylcbiAgICB0aGlzLnBvcnQgPSBlbnZIZWxwZXIuZ2V0RW52KCdEQVRBQkFTRV9QT1JUJylcbiAgICB0aGlzLm5hbWUgPSBlbnZIZWxwZXIuZ2V0RW52KCdEQVRBQkFTRV9OQU1FJylcbiAgICB0aGlzLm9wdGlvbiA9IGVudkhlbHBlci5nZXRFbnZKU09OKCdTRVFVRUxJWkVfT1BUSU9OUycsIHt9KSAvLyB7bG9nZ2luZzogZmFsc2V9XG4gIH1cblxuICBwdWJsaWMgcmVhZG9ubHkgaG9zdDogc3RyaW5nXG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmdcbiAgcHVibGljIHJlYWRvbmx5IHBvcnQ6IHN0cmluZ1xuICBwdWJsaWMgcmVhZG9ubHkgdXNlcjogc3RyaW5nXG4gIHB1YmxpYyByZWFkb25seSBwYXNzOiBzdHJpbmdcbiAgcHVibGljIHJlYWRvbmx5IG9wdGlvbjogYW55IC8vIHRzbGludDpkaXNhYmxlLWxpbmVcblxuICBwdWJsaWMgY29ubigpOiBzdHJpbmcge1xuICAgIGxldCBjbm4gPSAncG9zdGdyZXM6Ly8nXG4gICAgaWYgKHRoaXMudXNlciAmJiB0aGlzLnBhc3MpIGNubiArPSBgJHtlbmNvZGVVUklDb21wb25lbnQodGhpcy51c2VyKX06JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5wYXNzKX1AYFxuICAgIGNubiArPSB0aGlzLmhvc3RcbiAgICBpZiAodGhpcy5wb3J0KSBjbm4gKz0gYDoke3RoaXMucG9ydH1gXG4gICAgY25uICs9IGAvJHt0aGlzLm5hbWV9YFxuICAgIHJldHVybiBjbm5cbiAgfVxufVxuIl19